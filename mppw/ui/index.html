<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <link rel="shortcut icon" href="favicon.ico" />

    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@mdi/font@6.5.95/css/materialdesignicons.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@oruga-ui/oruga-next@0.5.4/dist/oruga-full.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/element-plus@2.1.1/dist/index.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/pivottable@2.23.0/dist/pivot.min.css"
    />

    <link rel="stylesheet" href="index.css" />

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-csv/1.0.21/jquery.csv.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui-touch-punch/0.2.3/jquery.ui.touch-punch.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pivottable/2.13.0/pivot.min.js"></script>
    <script src="https://cdn.plot.ly/plotly-basic-latest.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pivottable/2.22.0/plotly_renderers.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pivottable/2.22.0/export_renderers.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/screenfull.js/5.1.0/screenfull.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.4.4/d3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/10.5.3/math.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/markdown-it/13.0.1/markdown-it.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/uuid/8.1.0/uuidv4.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/seikichi/tiff.js@master/tiff.min.js"></script>
    <script src="https://unpkg.com/d3-dag@0.11.1"></script>

    <!-- Polyfill for importmap on all browsers -->
    <script
      async
      src="https://ga.jspm.io/npm:es-module-shims@1.4.6/dist/es-module-shims.js"
    ></script>

    <script type="importmap">
      {
        "imports": {
          "vue": "https://cdn.jsdelivr.net/npm/vue@3.2.23/dist/vue.esm-browser.js",
          "vue-router": "https://cdn.jsdelivr.net/npm/vue-router@4.0.14/dist/vue-router.esm-browser.js",
          "vue3-sfc-loader": "https://cdn.jsdelivr.net/npm/vue3-sfc-loader@0.8.4/dist/vue3-sfc-loader.esm.js",
          "@vue/devtools-api": "./vues/devtools-shim.js",
          "oruga": "https://cdn.jsdelivr.net/npm/@oruga-ui/oruga-next@0.5.4/dist/oruga.mjs",
          "@lljj/vue3-form-element": "https://cdn.jsdelivr.net/npm/@lljj/vue3-form-element@1.12.0/dist/vue3-form-element.esm.js",
          "element-plus": "https://cdn.jsdelivr.net/npm/element-plus@2.1.1/dist/index.full.mjs",
          "three": "https://unpkg.com/three@0.138.0/build/three.module.js",
          "OrbitControls": "https://unpkg.com/three@0.138.0/examples/jsm/controls/OrbitControls.js",
          "client-zip": "https://cdn.jsdelivr.net/npm/client-zip@2.2.2/index.min.js",
          "TransformControls": "https://unpkg.com/three@0.138.0/examples/jsm/controls/TransformControls.js"
        }
      }
    </script>

    <script type="module">
      import * as Vue from "vue";
      import * as VueRouter from "vue-router";
      import * as RemoteVue from "./vues/remote-vue-module.js";
      import * as Oruga from "oruga";
      import * as THREE from "three";
      import JsonSchemaFormComponent from "@lljj/vue3-form-element";
      import * as ElementPlus from "element-plus";
      import ForceGraph from "./assets/js/d3-force-graph-module.js";
      import Dag from "./assets/js/d3-dag-module.js";
      import { OrbitControls, MapControls } from "OrbitControls";
      import { downloadZip } from "client-zip";
      import { TransformControls } from "TransformControls";

      window["JsonSchemaFormComponent"] = JsonSchemaFormComponent;
      window["RemoteVue"] = RemoteVue;
      window["ForceGraph"] = ForceGraph;
      window["Dag"] = Dag;
      window["OrbitControls"] = OrbitControls;
      window["downloadZip"] = downloadZip;
      window["TransformControls"] = TransformControls;
      window["THREE"] = THREE;     

      RemoteVue.component("vues/app.vue").then((root) => {
        const router = VueRouter.createRouter({
          history: VueRouter.createWebHashHistory(),
          routes: root.routes,
        });

        let app = Vue.createApp(root)
          .use(router)
          .use(Oruga.default)
          .use(ElementPlus)
          .mount("#mppw");
      });
    </script>
  </head>

  <body>
    <div id="mppw"></div>
  </body>
</html>
