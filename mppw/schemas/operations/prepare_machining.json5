{
  type_urn: "urn:x-mfg:operation:prepare:machining",
  name: "Generic Machining Operation",
  description: "Manufacturing operation which machines parts from one geometry to another",
  parent_urns: ["urn:x-mfg:operation:default"],
  attachments: {
    ":input-parts": [
      [
        ":material:part",
        {
          ":output-parts": [
            [
              ":material:part",
              {
                ":part-geometry": [
                  ":digital:fiducial-points",
                  ":digital:mesh",
                  ":digital:point-cloud",
                ],
                ":images": [":digital:file"],
                ":notes": [":digital-file", ":digital:text"],
              },
            ],
          ],
          ":part-geometry": [
            ":digital:fiducial-points",
            ":digital:point-cloud",
            ":digital:mesh",
          ],
          ":images": [":digital:file"],
          ":notes": [":digital-file", ":digital:text"],
        },
      ],
    ],
  },
  provenance: {
    steps: [
      {
        context: ":input-parts.*",
        from_artifacts: ["."],
        to_artifacts: [
          ".:output-parts.*",
          ":operator-notes.*",
          ":process-data.*",
          ":attachments.*",
        ],
      },
      {
        name: ":measurements",
        context: ":input-parts.*",
        from_artifacts: ["."],
        to_artifacts: [".:part-geometry.*", ".:images.*", ".:notes.*"],
      },
      {
        name: ":measurements",
        context: ":input-parts.*.:output-parts.*",
        from_artifacts: ["."],
        to_artifacts: [".:part-geometry.*", ".:images.*", ".:notes.*"],
      },
    ],

    relations: [
      {
        name: "measurement",
        from_kind: ":input-parts.**.:output-parts",
        to_kind: ".:part-geometry",
      },
    ],
  },
}
